(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{950:function(t,e,r){Promise.resolve().then(r.bind(r,3315))},3315:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return i}});var s=r(7437),a=r(8472);function i(){let{items:t,loading:e,error:r}=(0,a.l)();return e?(0,s.jsx)("div",{className:"p-10",children:"กำลังโหลดข้อมูล..."}):r?(0,s.jsxs)("div",{className:"p-10 text-red-500",children:["เกิดข้อผิดพลาด: ",r]}):(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Event Calendar"}),(0,s.jsx)("div",{className:"space-y-8",children:t.map(t=>(0,s.jsxs)("div",{className:"border-b pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-sm font-mono",children:t.date}),(0,s.jsx)("h2",{className:"text-xl font-semibold",children:t.title})]}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:t.desc}),t.images&&t.images.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 mt-4",children:t.images.map((e,r)=>(0,s.jsx)("img",{src:e,alt:"".concat(t.title," - ").concat(r),className:"rounded-lg object-cover w-full h-40 bg-gray-100",onError:t=>t.currentTarget.style.display="none"},r))}),t.hashtag&&t.hashtag.length>0&&(0,s.jsx)("div",{className:"flex gap-2 mt-3",children:t.hashtag.map(t=>(0,s.jsxs)("span",{className:"text-blue-500 text-sm italic",children:["#",t]},t))})]},t.id))})]})}},8472:function(t,e,r){"use strict";r.d(e,{l:function(){return o}});var s=r(2265);let a="https://docs.google.com/spreadsheets/d/e/2PACX-1vQvOnidB4yVNl_TOOzjwcW_yu845NxyVM1w5xC_u-4hDvZ9t30q7aqznADzGxy_l2UJx6HLoU9z3_Yu/pub?gid=0&single=true&output=tsv";function i(t){if(!t)return"";let e=t.trim();if(!e.includes("/"))return"https://drive.google.com/thumbnail?id=".concat(e,"&sz=w800");let r=e.match(/\/d\/([^/]+)/),s=r?r[1]:e;return"https://drive.google.com/thumbnail?id=".concat(s,"&sz=w800")}function l(t){return t?t.split(",").map(t=>t.trim()).filter(Boolean):[]}async function n(){if(!a)throw Error("Missing NEXT_PUBLIC_SHEET_TSV_URL");let t=await fetch(a,{cache:"no-store"});if(!t.ok)throw Error("Fetch failed: ".concat(t.status));let e=(await t.text()).split(/\r?\n/).filter(t=>t.trim().length>0),r=e[0].split("	").map(t=>t.trim()),s=t=>r.indexOf(t),n=new Map,o=[];for(let t=1;t<e.length;t++){var c,u;let r=e[t].split("	"),a=t=>{var e;let a=s(t);return a>=0?(null!==(e=r[a])&&void 0!==e?e:"").trim():""},d=a("date"),m=a("title");if(!d||!m)continue;let h=null!==(c=n.get(d))&&void 0!==c?c:0;n.set(d,h+1);let g="".concat(d,"-").concat(String(h+1).padStart(2,"0"));o.push({id:g,date:d,title:m,desc:a("desc")||void 0,images:(u=a("images"))?u.split(",").map(t=>t.trim()).filter(Boolean).map(i):[],artists:l(a("artists")),hashtag:l(a("hashtag")),meeting:function(t){let e=(null!=t?t:"").trim().toLowerCase();return"true"===e||"1"===e||"yes"===e}(a("meeting")),keyword:a("keyword")||void 0,urlYoutube:a("urlYoutube")||void 0,urlFacebook:a("urlFacebook")||void 0,urlInstagram:a("urlInstagram")||void 0,urlTwitter:a("urlTwitter")||void 0,urlTiktok:a("urlTiktok")||void 0})}return o}function o(){let[t,e]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[i,l]=(0,s.useState)("");return(0,s.useEffect)(()=>{let t=!0;return(async()=>{try{let r=await n();if(!t)return;e(r)}catch(e){var r;if(!t)return;l(null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"Unknown error")}finally{if(!t)return;a(!1)}})(),()=>{t=!1}},[]),{items:t,loading:r,error:i}}}},function(t){t.O(0,[971,23,744],function(){return t(t.s=950)}),_N_E=t.O()}]);